{
  "version": "1.1",
  "description": "Lasso peptide core prediction rule configuration (robust defaults) by Magnus Ohle",
  "rules": {
    "core_start_residue": {
      "name": "core_start_residue",
      "description": "Core position 1 residue prior; penalize Pro strongly",
      "sources": [
        "https://pmc.ncbi.nlm.nih.gov/articles/PMC7864896/",
        "https://pubs.rsc.org/en/content/articlepdf/2014/sc/c4sc01428f"
      ],
      "enabled": true,
      "weight": 0.8,
      "parameters": {
        "scores": {
          "G": 1.5,
          "C": 1.3,
          "A": 1.1,
          "S": 1.1,
          "L": 0.6,
          "Y": 0.6,
          "W": 0.6,
          "D": 0.4,
          "T": 0.4,
          "F": 0.4,
          "K": 0.2,
          "R": 0.2,
          "E": 0.2
        },
        "penalty_other": -0.1,
        "hard_forbidden": [
          "P"
        ],
        "penalty_forbidden": -2.0
      }
    },
    "ring_closure_residue": {
      "name": "ring_closure_residue",
      "description": "Asp/Glu acceptor in a narrow window; 7-9 highest prior",
      "sources": [
        "https://pmc.ncbi.nlm.nih.gov/articles/PMC7864896/",
        "https://www.nature.com/articles/s41467-025-60544-4"
      ],
      "enabled": true,
      "weight": 4.5,
      "parameters": {
        "allowed_positions": [
          6,
          7,
          8,
          9,
          10
        ],
        "residues": [
          "D",
          "E"
        ],
        "position_weights": {
          "6": 0.6,
          "7": 1.0,
          "8": 1.1,
          "9": 1.0,
          "10": 0.6
        },
        "penalty_if_missing_in_allowed_window": -5.0
      }
    },
    "steric_lock_region": {
      "name": "steric_lock_region",
      "description": "Bulky residue in loop/tail region relative to acceptor",
      "sources": [
        "https://www.nature.com/articles/s41467-025-60544-4",
        "https://pubs.rsc.org/en/content/articlepdf/2014/sc/c4sc01428f"
      ],
      "enabled": true,
      "weight": 1.0,
      "parameters": {
        "bulky_residues": [
          "F",
          "W",
          "Y",
          "H",
          "I",
          "L",
          "V",
          "R",
          "K"
        ],
        "relative_to_acceptor": {
          "start_offset": 4,
          "end_offset": 12
        },
        "require_at_least": 1
      }
    },
    "leader_penultimate_residue": {
      "name": "leader_penultimate_residue",
      "description": "Penultimate leader residue prior (Thr common; Ile/Val rare)",
      "sources": [
        "https://www.frontiersin.org/journals/microbiology/articles/10.3389/fmicb.2023.1181125/full"
      ],
      "enabled": true,
      "weight": 1.0,
      "parameters": {
        "preferred": {
          "T": 1.0
        },
        "allowed_rare": {
          "I": 0.4,
          "V": 0.4
        },
        "penalty_other": -0.5
      }
    },
    "leader_signature_motifs": {
      "name": "leader_signature_motifs",
      "description": "Leader motifs using simple pattern matching",
      "sources": [
        "https://www.frontiersin.org/journals/microbiology/articles/10.3389/fmicb.2023.1181125/full",
        "https://pubs.rsc.org/en/content/articlepdf/2014/sc/c4sc01428f"
      ],
      "enabled": true,
      "weight": 1.2,
      "parameters": {
        "patterns": {
          "Y..P.L": 1.0,
          "W..P.L": 0.8,
          "LI.LG.A...T.": 0.8
        },
        "allow_regex": true
      }
    },
    "cleavage_motif": {
      "name": "cleavage_motif",
      "description": "Weak cleavage motif heuristic at leader/core boundary",
      "sources": [
        "https://pmc.ncbi.nlm.nih.gov/articles/PMC7864896/"
      ],
      "enabled": true,
      "weight": 0.8,
      "parameters": {
        "motifs": {
          "GG": 1.2,
          "GA": 1.1,
          "AG": 1.0
        }
      }
    },
    "core_length": {
      "name": "core_length",
      "description": "Expected core peptide length range",
      "enabled": true,
      "weight": 1.0,
      "parameters": {
        "min": 10,
        "max": 40,
        "optimal_min": 14,
        "optimal_max": 26,
        "score_optimal": 1.0,
        "score_acceptable": 0.5,
        "penalty_outside": -1.0
      }
    },
    "hydrophobicity_transition": {
      "name": "hydrophobicity_transition",
      "description": "Core more hydrophobic than leader",
      "enabled": true,
      "weight": 0.5,
      "parameters": {
        "min_difference": 0.3,
        "scale": "kyte_doolittle",
        "window_size": 10
      }
    },
    "charge_transition": {
      "name": "charge_transition",
      "description": "Leader more charged than core",
      "enabled": true,
      "weight": 0.4,
      "parameters": {
        "leader_more_charged": true,
        "min_difference": 0.1
      }
    },
    "ptm_context_hints": {
      "name": "ptm_context_hints",
      "description": "PTM-aware hints based on tailoring enzymes (interesting but unimplemented)",
      "sources": [
        "https://pmc.ncbi.nlm.nih.gov/articles/PMC7864896/"
      ],
      "enabled": false,
      "weight": 0.6,
      "parameters": {
        "if_kinase_present": {
          "prefer_residues": [
            "S",
            "T"
          ]
        },
        "if_glycosyltransferase_present": {
          "prefer_residues": [
            "S",
            "T",
            "Y"
          ]
        },
        "if_acyltransferase_present": {
          "prefer_residues": [
            "K",
            "S",
            "T"
          ]
        }
      }
    }
  }
}